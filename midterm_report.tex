%
% 公立はこだて未来大学卒業研究中間報告書[情報システム/高度ICTコース]
%
%         ファイル名："midterm_report.tex"
%
\documentclass[11pt,a4paper]{jsarticle}
\usepackage{funinfosys}
\usepackage{graphicx}
\usepackage{url}

\bibliographystyle{jplain}	

\author{% 
b1014120 永井陽太\\指導教員 : 松原克弥
}
\course{Advanced ICT Course} %% 高度ICTコースの場合はこちらを使用
\title{教室PCの余剰資源を活用した学内向けオープンクラウドの構築}
\etitle{Development of open cloud service utilized surplus resources of computers in computer room on campus}
\eauthor{Yota Nagai}
\abstract{ICT教育機関において，演習活動の高度化により，学生が実践的な開発を行うようになってきている．それに伴い，教育期間に求められる情報リソースも高度になってきており，クラウドコンピューティング環境が教育期間に導入されるようになってきている．しかし，クラウドコンピューティング環境をオンプレミスに学内に構築する場合，情報基盤センターを持たない大学では，高価なサーバ機の購入やサーバ管理室を用意するなど初期投資が大きくなってしまう．一方，ICT教育期間においてはBYOD等の普及により，講義以外では教室PCが利用されなくなってきている．そこで，本研究では教室PCの余剰計算資源を活用し学内にクラウドを実現する方法を検討する．教室PCの死活管理，定期的なバックアップの作成，負荷分散及び一時停止などの機構を実装することによって，講義に影響を出さずに教室PCを活用する方法を提案する．
}
\keywords{クラウド, 仮想化}
\eabstract{At ICT educational institutions, students are developing practical development due to sophistication of exercise activities. Along with that, the information resources required for the education period are getting higher, and the cloud computing environment has been introduced into the education period. However, when constructing a cloud computing environment on-campus on-campus, universities that do not have an information-based center will have to increase initial investment, such as purchasing expensive server machines and preparing server management rooms. On the other hand, in the ICT education period, due to the spread of BYOD etc., classroom PCs are no longer used except for lectures. Therefore, in this research, we will consider methods to realize the cloud in campus utilizing surplus computing resources of classroom PC. We propose a method to utilize the classroom PC without affecting the lecture by implementing mechanisms such as death of classroom PC, creation of regular backup, load distribution and temporary stop.
}
\ekeywords{Cloud, Virtualization}
\begin{document}
\maketitle
%\vspace*{-.5cm}

\section{はじめに}
\subsection{背景}
近年，クラウドコンピューティング技術はITビジネスにおいて，必要不可欠な技術となってきている．
また，クラウドコンピューティング技術は教育機関にも普及してきている\cite{SurveyOnActualStateOfAcademicInformationInfrastructure}．
近年のICT教育の現場では，実践的な演習活動を行うようになってきており，
クライアントサーバモデルのシステムを構築したり，他のWebサービスと連携を行うシステムを構築する上でも，
学生1人に対して複数台のマシンが利用できる環境を提供することが教育機関に求められてきている．
\par 教育機関がクラウドサービスを学生に提供する方法としては，
\begin{enumerate}
	\item 商用のクラウドサービスを利用する
	\item 学内にプライベートクラウドを構築する
\end{enumerate}
という2つの方法が存在するが，
商用のクラウドサービスを利用する場合は，サービスの利用料に応じて料金が発生してしまい，
学生全体にクラウドを展開することを考えると膨大なコストがかかってしまう．
また，学内にプライベートクラウドを構築する場合は，高価なサーバ機が必要となり，多大な初期投資が必要である．
\par 一方，ICT教育機関においてはBYOD，BYOPCが普及してきており，学生1人1人が個人でマシンを持つことが当たり前になってきており
演習環境として用意されているPC教室のPCがあまり利用されいないという現状がある．
つまり，PC教室の計算資源が余っており，活用できていない．
\par また，近年はオープンクラウドと呼ばれる，オープンソースベースのクラウド基盤が普及してきており
クラウドの構築が以前よりも比較的容易になってきている．

\subsection{提案システム}
本研究では，教室PCの余剰資源を活用した学内向けオープンクラウドの構築を試みる.
大学内の教室PCを計算資源の対象とすることで，技術的課題の洗い出しと有効性を確かめる．
\par 提案するシステムは，学生による教室PCの利用によって，計算資源である教室PCの状態が動的に変化するという課題がある．
そこで，以下2つの仕組みを実現することで上記の課題に対処する
\begin{itemize}
	\item 計算機として利用できる教室PCを動的に管理し，定期的にバックアップを作成するための仕組み
	\item 負荷が高くなった計算機から負荷が少ない計算機へ仮想インスタンスをライブマイグレーションする仕組み
\end{itemize}

\par 本提案が実現することで，以下に述べるような効果を期待できる．
\begin{itemize}
	\item 学内の余剰計算機を利用することで，クラウド構築の際の初期投資を抑えながら，学生に対して1人複数台のマシンを提供できる環境を構築することができる．
\end{itemize}

% \par 以降，第2章では，現在の大学教育機関におけるクラウドサービス利用の現状について述べる．
% 第3章で，教室PCを利用した学内オープンクラウドを実現するための技術的課題を示し，その解決方法について論じる．
% 第4章では，実装状況について述べる．第5章では，まとめと今後の課題について述べる．

\section{教育機関におけるクラウド利用の欠点および現状}
\subsection{商用クラウドサービスの欠点}
商用のクラウドサービスを利用する場合の欠点としては，
\begin{enumerate}
	\item 商用クラウドサービスで一般的な従量課金制が大学の予算制度と相性が悪い
	\item 学内ですでに展開されているサービスとの連携が難しくなる
\end{enumerate}
以上の2点が挙げられる．
\subsection{プライベートクラウドの欠点}
プライベートクラウドとは組織内の独自の環境で構築・運用されているクラウドシステムのことである．
プライベートクラウドを利用する際の欠点としては，
\begin{enumerate}
	\item 構築の際に，高価なサーバ機が必要になったり，サーバを設置する環境を整えたりする等の多大な初期投資が必要になる
	\item 組織内に設置したサーバに障害が発生した場合に備えて，障害に対処するサポート体制を整備するための人的なコストがかかる
\end{enumerate}
以上の2点が挙げられる．

\subsection{大学の既存環境と問題点}
現在のICT教育機関ではPBLが取り入れられるようになってきており，学生が実践的な演習を行う機会が増えている．
実践的な演習を行っていく上で，例えば，クライアントサーバモデルのシステムを構築したり，
IoTデバイスでセンシングしたデータを集約するためのサーバを構築したり，他のWebアプリケーションをネットワークを通して連携するシステムを構築したりする様になってきている．
これらのシステム構成を実現するためには学生1人に対して1台の端末が提供される環境では不十分になってきている．
従って，近年のICT教育機関には学生1人に対して複数台のマシンを提供できる環境を整備することが求められている．
\par 一方，現在のICT教育環境では，BYODが普及しており，学生1人1人が個人で専用のマシンを有しているという現状がある．
BYODの普及により，現在は演習用の端末を配置したPC教室の利用が減ってきており，メンテナンスのコストがかかるPC教室自体が不要になってきているのではないかという主張がある．
しかし，BYODが普及していることによって学生が持参してくるPCが多様化し，学生がどのようなPCを持ってくるかわからない状況になってきている．
この様な状況下では，統一の演習環境は必ず必要になるのでPC教室を撤廃することは難しい．
つまり，PC教室には余剰な計算資源が存在しており，活用されていないという問題がある．

\section{提案するクラウドについて}
% 学内クラウドは止まっても仕方ない，教室PCを利用してクラウドが構築できる事実が素晴らしい
本章では，教室PCの余剰資源を活用したクラウドを実現するにあたっての課題と解決方法について述べる．
\subsection{技術的課題}
\subsubsection{教室PCの予期せぬ停止}
教室PCは学内の任意の人が利用できる状態にあるので，誰でも教室PCの電源を切ることが出来る．
また，自然災害などの外的要因によって，教室PCが停止してしまう可能性が存在する．
教室PCの意図せぬ停止によって，以下の問題が生じる．
\begin{itemize}
	\item クラウドの計算資源として利用できる教室PCが変化する
	\item 稼働中の仮想インスタンスのデータが消失してしまう可能性が存在する
\end{itemize}
\subsubsection{講義などによる教室PCの利用}
クラウドの計算資源として教室PCが利用されていることで教室PCの動作が重くなり，講義に影響がでる可能性が存在する．
また，学内に存在する教室PCのほとんどが講義によって利用されてしまい，計算資源が枯渇する可能性も存在する．
\\
\\
\\
\includegraphics[width=2.1cm, bb=0 0 300 400]{graph1.pdf}
\begin{center}図1　システムの概要\end{center}

\subsection{実現手法}
本システムはオープンソースのクラウド基盤であるOpenStackの利用及び追加の機構の実装によって実現する．
OpenStackはマイクロサービスアーキテクチャを採用しており，6つのコアサービスによって構成されている．
6つのコアサービスの内，技術的課題の解決に関わるコアサービスNovaとSwiftについて説明する．
\begin{itemize}
	\item Nova：仮想インスタンスを立ち上げる為の計算ノードの管理及び仮想インスタンスの管理を担っている．計算ノードの情報を，随時コントローラノードに送信することで，計算ノードの死活管理や，仮想インスタンスを立ち上げる最適な計算ノードを決定する役割も担っている．
	\item Swift：イメージファイルやメディアファイル等のオブジェクトを保存する為のストレージの提供及び管理を担っている．レプリケーションにも対応しており，障害への対策も可能にする．
\end{itemize}
\subsubsection{教室PCの死活管理と定期的なバックアップ}
計算資源として利用できる教室PCが変化問題には，Novaの死活管理によって対応が可能である．
稼働中の仮想インスタンスのデータが消失してしまう可能性については，
定期的に仮想インスタンスのスナップショットを作成し，オブジェクトストレージSwiftに保存することで対応する．
\subsubsection{教室PCの負荷分散及び仮想インスタンスの一時停止}
講義による教室PCの利用は講義時間割から予測が可能なので，講義が始まる前に利用されない教室PCへ仮想インスタンスをライブマイグレーションすることで対応が可能である．
また，講義によって計算資源が枯渇してしまう問題に対しては，一定期間のアクセス数などの仮想インスタンスの利用状況から
もっとも利用されていない仮想インスタンスを決定するアルゴリズムを考案し，そのアルゴリズムによって決定されたインスタンスを一時停止状態にすることで対応が可能である．

\section{実装状況}
\subsection{研究室におけるクラウドの構築}
まず，未来大における教室PCのOSはMac教室のMacOSXとWindows教室のWindowsが存在する．
従って，実装では，計算ノードとしてMacOSXとWindowsが動作しているマシンを対象とする．
現在はプロトタイプとして，研究室内にOpenStackを利用してプライベートなクラウドサービスを構築している段階である．
プロトタイプの構成として，コントローラーノードのOSはCentOS7を採用している．
計算ノードとしてはCentOS7を搭載したマシンが1台とMacOSXを搭載したMac miniが存在する．

\section{おわりに}
\subsection{まとめ}
本稿では，教室PCの余剰資源を活用した学内向けオープンクラウドの実現方式の提案を行った．
教室PCの不安定な計算資源に対して，
計算ノードの死活管理，仮想インスタンスのバックアップ，
高負荷な計算ノードから低負荷な計算ノードへのライブマイグレーション及び
利用順位付けアルゴリズムによる仮想インスタンスの一時停止
等の機構を実装したクラウドの構築の検討を行った．
提案するシステムがもたらす効果は，
学内の余剰計算機を用いることでプライベートクラウド構築の欠点である，
初期投資を抑えながら，学生に対して1人複数台のマシンを提供する環境の構築が可能になることが見込める．
\subsection{今後の課題}
今後は，学生1人に対して具体的に何台マシンを提供できるようにするのか決定する必要がある．
また，どのように学内の認証機構との連携を行うのか，考慮する必要がある．
さらに，学生が仮想インスタンスを操作するためのWebUIをOpenStackのデフォルトの状態から，学生が使いやすいUIを検討する必要がある．

\begin{thebibliography}{99}
\bibitem{marumaru}
	○○△△, システム情報科学会論文誌, 2, 13-19, 2002.
\bibitem{abc}
	A.B.Cdddddd, J. Systems Information Science, 11, 1145-1159, 2001.
\bibitem{batubatu}
	○○××, □□△△, システム情報科学, ☆☆出版, 1999, 20-21.
\bibitem{efghij}
	E.Fggg and H.Ijjj, Electrical Engineering, KKPress, 2003, 281-284.
\end{thebibliography}
\bibliography{ref.bib}
\end{document}
%
%
% EOF 
